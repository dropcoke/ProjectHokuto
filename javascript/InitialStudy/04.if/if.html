<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="../jquery-3.6.1.min.js"></script>
    <script src="../jquery-linedtextarea.js"></script>
    <link href="../jquery-linedtextarea.css" rel="stylesheet"/>
    <script>
      $(function(){
        // const bodyOut = document.getElementById("body");
        // const bodyContent = document.getElementsByTagName("body");
        // bodyOut.innerHTML = bodyContent[0].innerHTML;
        $(".lined").linedtextarea({
          selectedLine: 1
        });
      });
    </script>
    <script src="./if.js"></script>
  </head>
  <body>
    <header><a href="../index.html">&lt; 最初に戻る</a></header>
    <div>
      <h2>条件分岐</h2>
      <p>ifやswitchを使って条件によって処理を切り替えよう。</p>
    </div>
    <div><button onclick="">プログラム実行</button></div>
    <div style="margin-top: 30px">
      ここでは比較した値を条件に判断して処理を切り替えて、その結果をコンソールと画面に表示します。<br />
      <p>
        <h3>コンソールプログラム</h3>
        <h4>あなたの好きな色が正解の色になりますか?</h4>
        <div>
          以下のプログラムを「if.js」に書いてみましょう。<br />
          <p>
            <textarea class="lined" readonly style="width: 600px; height: 170px;">
// 答えの色
const answerColor = "green";
// お気に入りの色
let favoriteColor = "blue";
// 正解
if (answerColor === favoriteColor) {
    console.log("緑があたりです");
} else // 不正解
{
    console.log("残念ですがハズレの色です")
}
            </textarea>
          </p>
          <div><button onclick="">プログラム実行</button></div>
          プログラムを書いたらファイルを保存して「プログラム実行」ボタンをクリックしてください。<br />
          あなたの好きな色は正解でしたか?<br />
          ここではif文を使って、期待されていた答えの色があなたのお気に入りの色と同じであるか判断しています。<br />
          もし同じ色の場合は色が表示されて、違う場合はハズレが表示されてしまいます。<br />
          if は英語のifの意味通り「もしAならばB」と言う処理をします。<br />
          ですのでここではお気に入りの色が緑であれば当たりとなります。<br />
          elseはそれ以外(条件と合致しない)ということを意味するのでお気に入りの色が違う場合はハズレとなってしまいます。<br />
          {}の中にプログラムを書くことで同じである場合の処理と違う場合の処理を分けることができます。
        </div>
        <h4>選んだ色の紙はありますか?</h4>
        <div>
          以下のプログラムを「if.js」に書いてみましょう。<br />
          <p>
            <textarea class="lined" readonly style="width: 600px; height: 350px;">
// 緑の紙
const green = "green";
// 赤の紙
const red = "red";
// 青の紙
const blue = "blue";
// 紫の紙
const purple = "purple";
// 選んだ紙の色
let selectedColor = "gray";
// else ifを使った条件分岐
if (selectedColor === green) {
    console.log("緑の紙はあります。");
} else if (selectedColor === red) {
    console.log("赤の紙はあります。");
} else if (selectedColor === blue) {
    console.log("青の紙はあります。");
} else if (selectedColor === purple) {
    console.log("紫の紙はあります。");
} else {
    console.log("ご指定の色はありません。");
}
          </textarea>
          </p>
          <div><button onclick="">プログラム実行</button></div>
          プログラムを書いたらファイルを保存して「プログラム実行」ボタンをクリックしてください。<br />
          あなたが選んだ色の紙はありましたか?<br />
          ここではif文を使って、選んだ色が期待されていたいずれかの色と同じであれば<br />
          その色の紙があることを表示して、同じ色のものがなければその色の紙がないことを表示します。<br />
          ifとelseは前述の通りですが、新たに「else if」と言うものが出てきました。<br />
          else ifはその前に比較されている条件以外で「もしCならばD」と言う処理をします。<br />
          変数selectedColorの値を変更して存在する色の紙を表示してみてください。
        </div>
        <h4>大小比較</h4>
        <div>
          以下のプログラムを「if.js」に書いてみましょう。<br />
          <p>
            <textarea class="lined" readonly style="width: 600px; height: 260px;">
// 収入
let income = 300;
// 支出
let cost = 300;

console.log("収入:" + income);
console.log("支出:" + cost);
if (income > cost) {
    // 売上が多い場合は黒字
    console.log("利益:" + (income - cost) + " 黒字");
}
else if (income < cost) {
    console.log("損失:" + (income - cost) + " 赤字");
}
else {
    console.log("収支が同じ");
}
            </textarea>
          </p>
          <div><button onclick="">プログラム実行</button></div>
          プログラムを書いたらファイルを保存して「プログラム実行」ボタンをクリックしてください。<br />
          黒字でしたか?赤字でしたか?<br />
          ここではif文を使って、収入が支出より多い場合は黒字、支出が多い場合は赤字、<br />
          収入と支出が同じ場合は収支が同じと表示されます。<br />
          収入と支出の値を変更して収支の差を確認してください。
        </div>
        <h4>switchを使って条件分岐をする</h4>
        <div>
          以下のプログラムを「if.js」に書いてみましょう。<br />
          <p>
            <textarea class="lined" readonly style="width: 600px; height: 400px;">
// 緑の紙
const green = "green";
// 赤の紙
const red = "red";
// 青の紙
const blue = "blue";
// 紫の紙
const purple = "purple";
// 選んだ紙の色
let selectedColor = "blue";
// switchを使った条件分岐
switch (selectedColor) {
  case green:
      console.log("緑の紙ははあります。");
      break;
  case red:
      console.log("赤の紙ははあります。");
      break;
  case blue:
    console.log("青の紙はあります。");
      break;
  case purple:
      console.log("紫の紙ははあります。");
      break;
  default:
      console.log("ご指定の色はありません。");
}
          </textarea>
          </p>
          <div><button onclick="">プログラム実行</button></div>
          プログラムを書いたらファイルを保存して「プログラム実行」ボタンをクリックしてください。<br />
          あなたが選んだ色の紙はありましたか?<br />
          ここではswitch文を使って、選んだ色が期待されていたいずれかの色と同じであれば<br />
          その色の紙があることを表示して、同じ色のものがなければその色の紙がないことが表示されてしまいます。<br />
          switchは変数の値がcaseに指定されている値に合致すると、次のbreak;までの処理を実行します。<br />
          合致する値がなければdefaultで設定された処理を実行します。<br />
          処理実行後に必ずbreak;を書いてください。break;がないとswitch区内の処理はそのまま実行されます。<br />
          変数selectedColorの値を変更して存在する色の紙を表示してみてください。
          <div>
            以下のプログラムを「if.js」に書いてみましょう。<br />
            <p>
              <textarea class="lined" readonly style="width: 600px; height: 350px;">
  // 緑の紙
  const green = "green";
  // 赤の紙
  const red = "red";
  // 青の紙
  const blue = "blue";
  // 紫の紙
  const purple = "purple";
  // 選んだ紙の色
  let selectedColor = "blue";
  // break;がないと処理は続いてしまいます。
  switch (selectedColor) {
    case green:
        console.log("緑の紙ははあります。");
    case red:
        console.log("赤の紙ははあります。");
    case blue:
      console.log("青の紙はあります。");
    case purple:
        console.log("紫の紙ははあります。");
    default:
        console.log("ご指定の色はありません。");
  }
            </textarea>
            </p>
            <div><button onclick="">プログラム実行</button></div>
            プログラムを書いたらファイルを保存して「プログラム実行」ボタンをクリックしてください。<br />
            青の紙を取得した後もプログラムがとまりせません。。。
        </div>
      </p>
      <p>
        <h3>画面表示</h3>

        <div>
          以下のプログラムを「if.js」に書いてみましょう。<br />
          <p>
            <textarea class="lined" readonly style="width: 600px; height: 550px;">
// 2. 画面に実行結果を表示します。
const execute = () => {
    // 色を定義
    const green = "green";
    const red = "red";
    const blue = "blue";
    const purple = "purple";
    // 入力された色を取得
    const selectedColor = document.getElementById("color").value;
    const target = document.getElementById("output");
    let result = false;
    let color = "white";
    if (selectedColor === green) {
        color = "緑の紙はあります。";
        result = true;
    } else if (selectedColor === red) {
        color = "赤の紙はあります。";
        result = true;
    } else if (selectedColor === blue) {
        color = "青の紙はあります。";
        result = true;
    } else if (selectedColor === purple) {
        color = "紫の紙はあります。";
        result = true;
    }
    // 背景色の設定
        target.style.backgroundColor = selectedColor;
    if (result) {
        // 選ばれた紙の色
        target.textContent = color;
    }
    else {
      // 該当する紙がない場合は表示しない。
      target.textContent = "ご指定の色はありません。";
    }
}
          </textarea>
          </p>
          <div><button onclick="">プログラム実行</button></div>
          プログラムを書いたらファイルを保存して「プログラム実行」ボタンをクリックしてください。<br />
          <div style="margin-top: 10px;">
            <button onclick="execute()">プログラム実行!</button><br />

            <div>
              色を入力してください。<input id="color" value="white" />
              <div id="output" style="border: solid 1px;width: 300px; height: 200px;">初期状態</div>
            </div>
          </div>
          「プログラム実行」ボタンをクリックしてください。<br />
          ボタンをクリックしたら背景色が変更され、何色の紙が選ばれたか表示されましたか?<br />
          ページのソースに&lt;button onclick="execute()"&gt;と書かれている部分があります。<br />
          これはボタンをクリックした時にif.jsに書かれている「execute」と言うコマンド(関数)を実行してくださいと命令しています。<br />
          (コマンド(関数)については別途説明いたします。)<br />
          コマンド(関数)executeでは&lt;div id="output"&gt;&lt;/div&gt;に<br />
          &lt;input id="color" /&gt;で入力された色がプログラムで定義された選択色に存在した場合、<br />
          パネルの背景色をその色に変更してどの色の紙が選択されたか表示してくださいと命令しています。<br />
          const target = document.getElementById("output");<br />
          はidがoutputの領域を取得してくださいと命令しています。<br />
          textContentは領域内に表示する文字になります。<br />
          <a href="https://qiita.com/RyBB/items/c87af2413c34f9367d00" target="_blank">textContentとinnerHTMLの違い</a><br />
          style.backgroundColorは領域内の背景色になります。<br />
        </div>
      </p>
      <b>色を変えてプログラムを実行してみよう!</b>
    </div>
    <!-- <div style="margin: 20px;">
      <a id="html">HTMLのbodyの内容</a><br />
      <textarea class="lined" id="body" style="width: 800px;height: 600px;" readonly></textarea>
    </div> -->
    <footer><a href="../index.html">&lt; 最初に戻る</a></footer>
  </body>
</html>

